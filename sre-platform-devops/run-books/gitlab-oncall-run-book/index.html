<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="My technical knowledge collection is here."><meta name=author content="Ivan K"><link href=https://ivankatliarchuk.github.io/sre-platform-devops/run-books/gitlab-oncall-run-book/ rel=canonical><link href=../engineer-on-call/ rel=prev><link href=../../check-lists/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.13"><title>gitlab on call run book - IvanK public knowledge base</title><link rel=stylesheet href=../../../assets/stylesheets/main.ffa9267a.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent=deep-orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#gitlab-on-call-run-books class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="IvanK public knowledge base" class="md-header__button md-logo" aria-label="IvanK public knowledge base" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> IvanK public knowledge base </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> gitlab on call run book </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ivankatliarchuk/knowledge-base title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../blogs/blogs.web-to-follow/ class=md-tabs__link> Blogs&Articles </a> </li> <li class=md-tabs__item> <a href=../../../education/ class=md-tabs__link> Education </a> </li> <li class=md-tabs__item> <a href=../../../interview/ class=md-tabs__link> Interview </a> </li> <li class=md-tabs__item> <a href=../../../leadership/ class=md-tabs__link> Leadership </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> SRE-Platform-DevOps </a> </li> <li class=md-tabs__item> <a href=../../../tools/ class=md-tabs__link> Tools </a> </li> <li class=md-tabs__item> <a href=../../../travel/ class=md-tabs__link> Properties&Travel </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="IvanK public knowledge base" class="md-nav__button md-logo" aria-label="IvanK public knowledge base" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> IvanK public knowledge base </label> <div class=md-nav__source> <a href=https://github.com/ivankatliarchuk/knowledge-base title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <div class="md-nav__link md-nav__link--index "> <a href=../../..>Home</a> <label for=__nav_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../quicklinks/ class=md-nav__link> Quick Links </a> </li> <li class=md-nav__item> <a href=../../../awesome-pages/ class=md-nav__link> Awesome Pages </a> </li> <li class=md-nav__item> <a href=../../../tags/ class=md-nav__link> Tags </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Blogs&Articles <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Blogs&Articles </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> Blogs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Blogs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../blogs/blogs.web-to-follow/ class=md-nav__link> blogs to follow </a> </li> <li class=md-nav__item> <a href=../../../blogs/coding/ class=md-nav__link> coding blogs </a> </li> <li class=md-nav__item> <a href=../../../blogs/how-to/ class=md-nav__link> how to </a> </li> <li class=md-nav__item> <a href=../../../blogs/kubernetes/ class=md-nav__link> kubernetes </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Education <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Education </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../education/ >Education</a> <label for=__nav_3_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Education </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../education/android/ class=md-nav__link> android cofing </a> </li> <li class=md-nav__item> <a href=../../../education/certifications/ class=md-nav__link> cyber security certifications </a> </li> <li class=md-nav__item> <a href=../../../education/courses.tutorials/ class=md-nav__link> courses and tutorials </a> </li> <li class=md-nav__item> <a href=../../../education/markdown-tricks/ class=md-nav__link> markdown tricks </a> </li> <li class=md-nav__item> <a href=../../../education/mentorship/ class=md-nav__link> mentorship </a> </li> <li class=md-nav__item> <a href=../../../education/resources/ class=md-nav__link> education resources & lists </a> </li> <li class=md-nav__item> <a href=../../../education/talks-and-conferences/ class=md-nav__link> talks and conferences </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../workshops/ >Workshops</a> <label for=__nav_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Workshops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../workshops/ecs/ class=md-nav__link> cloud general </a> </li> <li class=md-nav__item> <a href=../../../workshops/k8s-security/ class=md-nav__link> k8s security </a> </li> <li class=md-nav__item> <a href=../../../workshops/k8s/ class=md-nav__link> k8s general </a> </li> <li class=md-nav__item> <a href=../../../workshops/pentest/ class=md-nav__link> pentest </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Interview <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Interview </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../interview/ >Interview</a> <label for=__nav_4_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Interview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interview/code-review/ class=md-nav__link> code-review </a> </li> <li class=md-nav__item> <a href=../../../interview/hypotetical/ class=md-nav__link> hypothetical questions </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> Leadership <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Leadership </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../leadership/ >Leadership</a> <label for=__nav_5_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Leadership </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../leadership/phrases/ class=md-nav__link> phrases </a> </li> <li class=md-nav__item> <a href=../../../leadership/questions/ class=md-nav__link> questions </a> </li> <li class=md-nav__item> <a href=../../../leadership/words/ class=md-nav__link> Words </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> Job Descriptions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Job Descriptions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../leadership/job-description/platform-engineer/ class=md-nav__link> job advert </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> Product <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Product </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../leadership/product/ >Product</a> <label for=__nav_5_3_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_1> <span class="md-nav__icon md-icon"></span> Product </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../leadership/product/agile.practices/ class=md-nav__link> agile practices </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> Career <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Career </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_4_1> <label class=md-nav__link for=__nav_5_4_1 id=__nav_5_4_1_label tabindex=0> Career <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4_1> <span class="md-nav__icon md-icon"></span> Career </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../leadership/career/21-management-tips/ class=md-nav__link> 21 people management tips </a> </li> <li class=md-nav__item> <a href=../../../leadership/career/career-framerowrks/ class=md-nav__link> Career Frameworks </a> </li> <li class=md-nav__item> <a href=../../../leadership/career/engineering-management/ class=md-nav__link> enginnering management </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> SRE-Platform-DevOps <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> SRE-Platform-DevOps </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_1> <div class="md-nav__link md-nav__link--index "> <a href=../../ >Sre platform devops</a> <label for=__nav_6_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Sre platform devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture-bp/ class=md-nav__link> arcthitecture & best practices </a> </li> <li class=md-nav__item> <a href=../../awesome/ class=md-nav__link> awesome pages </a> </li> <li class=md-nav__item> <a href=../../companies/ class=md-nav__link> devops companies </a> </li> <li class=md-nav__item> <a href=../../devops-cheatsheets/ class=md-nav__link> cheat sheets </a> </li> <li class=md-nav__item> <a href=../../distaster-recovery/ class=md-nav__link> Disaster Recovery </a> </li> <li class=md-nav__item> <a href=../../how-to/ class=md-nav__link> how to </a> </li> <li class=md-nav__item> <a href=../../monitoring/ class=md-nav__link> monitoring </a> </li> <li class=md-nav__item> <a href=../../ops-lessons/ class=md-nav__link> operation lessons </a> </li> <li class=md-nav__item> <a href=../../os/ class=md-nav__link> os </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_2_1> <div class="md-nav__link md-nav__link--index "> <a href=../../notes/ >Notes</a> <label for=__nav_6_2_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2_1> <span class="md-nav__icon md-icon"></span> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../notes/google/ class=md-nav__link> google notes </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3 checked> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> Run Books <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=true> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Run Books </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3_1 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >Run books</a> <label for=__nav_6_3_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_6_3_1> <span class="md-nav__icon md-icon"></span> Run books </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../declaring-incident/ class=md-nav__link> declaring incident (CMOC) </a> </li> <li class=md-nav__item> <a href=../engineer-on-call/ class=md-nav__link> engineer on call (EOC) </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> gitlab on call run book <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> gitlab on call run book </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#on-call class=md-nav__link> On-Call </a> <nav class=md-nav aria-label=On-Call> <ul class=md-nav__list> <li class=md-nav__item> <a href=#shifts class=md-nav__link> Shifts </a> </li> <li class=md-nav__item> <a href=#joining-the-on-call-rotation class=md-nav__link> Joining the On-Call Rotation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#checklists class=md-nav__link> Checklists </a> </li> <li class=md-nav__item> <a href=#things-to-keep-an-eye-on class=md-nav__link> Things to keep an eye on </a> <nav class=md-nav aria-label="Things to keep an eye on"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#issues class=md-nav__link> Issues </a> </li> <li class=md-nav__item> <a href=#alerts class=md-nav__link> Alerts </a> </li> <li class=md-nav__item> <a href=#prometheus-targets-down class=md-nav__link> Prometheus targets down </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#incidents class=md-nav__link> Incidents </a> </li> <li class=md-nav__item> <a href=#communication-tools class=md-nav__link> Communication Tools </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> Readiness Lists <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Readiness Lists </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_4_1> <div class="md-nav__link md-nav__link--index "> <a href=../../check-lists/ >Check lists</a> <label for=__nav_6_4_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4_1> <span class="md-nav__icon md-icon"></span> Check lists </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../check-lists/android-app-checklist/ class=md-nav__link> android app launch checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/app-migration-process/ class=md-nav__link> application migration process </a> </li> <li class=md-nav__item> <a href=../../check-lists/app-readiness-checklist/ class=md-nav__link> application readiness checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/assessing-migration-readiness/ class=md-nav__link> assessing migration readiness </a> </li> <li class=md-nav__item> <a href=../../check-lists/incident-response-phases/ class=md-nav__link> incident readiness phases </a> </li> <li class=md-nav__item> <a href=../../check-lists/incident-response-plan/ class=md-nav__link> incident readiness plan </a> </li> <li class=md-nav__item> <a href=../../check-lists/incident-response-post/ class=md-nav__link> post-incident review checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/infrastructure-forensic-readiness/ class=md-nav__link> aws cloud readiness checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/k8s-best-pratices-checklist/ class=md-nav__link> kubernetes best practices checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/lunch-coordination/ class=md-nav__link> launch coordination checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/monitoring-list/ class=md-nav__link> monitorin readiness lists </a> </li> <li class=md-nav__item> <a href=../../check-lists/operations-metrics/ class=md-nav__link> operations readiness metrics lists </a> </li> <li class=md-nav__item> <a href=../../check-lists/oreily-list/ class=md-nav__link> oreilly readiness checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/release-checklist/ class=md-nav__link> release checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/technical-diagrams-checklist/ class=md-nav__link> application documentation checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/vault-checklist/ class=md-nav__link> vault checklist </a> </li> <li class=md-nav__item> <a href=../../check-lists/vulnerability.list/ class=md-nav__link> vulnerability list </a> </li> <li class=md-nav__item> <a href=../../check-lists/website-scan-checklist/ class=md-nav__link> website scan checklist </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> Architecture Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Architecture Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_5_1> <label class=md-nav__link for=__nav_6_5_1 id=__nav_6_5_1_label tabindex=0> Architecture notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5_1> <span class="md-nav__icon md-icon"></span> Architecture notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture-notes/audits/ class=md-nav__link> audits documentation </a> </li> <li class=md-nav__item> <a href=../../architecture-notes/design-data/ class=md-nav__link> system data design </a> </li> <li class=md-nav__item> <a href=../../architecture-notes/documentation/ class=md-nav__link> documentation architecture </a> </li> <li class=md-nav__item> <a href=../../architecture-notes/microservice-lifecycle/ class=md-nav__link> high level system design </a> </li> <li class=md-nav__item> <a href=../../architecture-notes/references-architecture/ class=md-nav__link> reference architecture </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_6> <div class="md-nav__link md-nav__link--index "> <a href=../../infrastructure/ >Infrastructure</a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7 id=__nav_6_7_label tabindex=0> Docs Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> Docs Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_7_1> <label class=md-nav__link for=__nav_6_7_1 id=__nav_6_7_1_label tabindex=0> Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_6_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7_1> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/incident-state-document/ class=md-nav__link> Incident state document </a> </li> <li class=md-nav__item> <a href=../../examples/info/ class=md-nav__link> Postmortem Practices </a> </li> <li class=md-nav__item> <a href=../../examples/postmortem/ class=md-nav__link> Incident state document </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Tools <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../tools/ >Tools</a> <label for=__nav_7_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tools/agile.tools/ class=md-nav__link> agile&diagrams </a> </li> <li class=md-nav__item> <a href=../../../tools/audit/ class=md-nav__link> audit tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/authentication/ class=md-nav__link> authentication </a> </li> <li class=md-nav__item> <a href=../../../tools/blueprints/ class=md-nav__link> project blueprints </a> </li> <li class=md-nav__item> <a href=../../../tools/cicd/ class=md-nav__link> cicd tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/coding/ class=md-nav__link> coding tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/company.tools/ class=md-nav__link> company tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/database/ class=md-nav__link> database tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/github/ class=md-nav__link> github </a> </li> <li class=md-nav__item> <a href=../../../tools/infrastructure/ class=md-nav__link> infrastructure tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/metrics/ class=md-nav__link> metrics tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/monitoring/ class=md-nav__link> monitoring tools </a> </li> <li class=md-nav__item> <a href=../../../tools/networking/ class=md-nav__link> networking </a> </li> <li class=md-nav__item> <a href=../../../tools/office/ class=md-nav__link> day&office planners </a> </li> <li class=md-nav__item> <a href=../../../tools/os/ class=md-nav__link> install os </a> </li> <li class=md-nav__item> <a href=../../../tools/performance/ class=md-nav__link> performance tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/resources/ class=md-nav__link> blogging resources </a> </li> <li class=md-nav__item> <a href=../../../tools/secrets-management/ class=md-nav__link> secrets management </a> </li> <li class=md-nav__item> <a href=../../../tools/sre/ class=md-nav__link> sre </a> </li> <li class=md-nav__item> <a href=../../../tools/terraform%26terragrunt/ class=md-nav__link> terraform </a> </li> <li class=md-nav__item> <a href=../../../tools/unix/ class=md-nav__link> unix&linux tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/website.tools/ class=md-nav__link> website tooling </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> AWS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_2_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../tools/aws/ >Aws</a> <label for=__nav_7_2_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_1> <span class="md-nav__icon md-icon"></span> Aws </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tools/aws/clouds/ class=md-nav__link> resource management </a> </li> <li class=md-nav__item> <a href=../../../tools/aws/eks/ class=md-nav__link> eks tooling </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> Cyber-Sec <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> Cyber-Sec </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_3_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../tools/cyber-sec/ >Cyber sec</a> <label for=__nav_7_3_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3_1> <span class="md-nav__icon md-icon"></span> Cyber sec </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tools/cyber-sec/offsec/ class=md-nav__link> offsec tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/cyber-sec/pentest/ class=md-nav__link> pentest tooling </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_4_1> <div class="md-nav__link md-nav__link--index "> <a href=../../../tools/kubernetes/ >Kubernetes</a> <label for=__nav_7_4_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4_1> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tools/kubernetes/helm-charts/ class=md-nav__link> helm tooling </a> </li> <li class=md-nav__item> <a href=../../../tools/kubernetes/k8s-operators/ class=md-nav__link> k8s operators and controllers </a> </li> <li class=md-nav__item> <a href=../../../tools/kubernetes/k8s/ class=md-nav__link> k8s tooling </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../../../travel/ >Properties&Travel</a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Properties&Travel </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a href=../../../tags/#run-book class=md-tag>run book</a> <a href=../../../tags/#ops class=md-tag>ops</a> <a href=../../../tags/#operations class=md-tag>operations</a> <a href=../../../tags/#gitlab class=md-tag>gitlab</a> </nav> <h1 id=gitlab-on-call-run-books>Gitlab On-call Run Books<a class=headerlink href=#gitlab-on-call-run-books title="Permanent link">#</a></h1> <p>This project provides a guidance for Infrastructure Reliability Engineers and Managers who are starting an on-call shift or responding to an incident. If you haven't yet, review the <a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/index.html>Incident Management</a> page in the handbook before reading on.</p> <h2 id=on-call>On-Call<a class=headerlink href=#on-call title="Permanent link">#</a></h2> <p>GitLab Reliability Engineers and Managers provide 24x7 on-call coverage to ensure incidents are responded to promptly and resolved as quickly as possible.</p> <h3 id=shifts>Shifts<a class=headerlink href=#shifts title="Permanent link">#</a></h3> <p>We use <a href=https://gitlab.pagerduty.com>PagerDuty</a> to manage our on-call schedule and incident alerting. We currently have two escalation policies for , one for <a href=https://gitlab.pagerduty.com/escalation_policies#P7IG7DS>Production Incidents</a> and the other for <a href=https://gitlab.pagerduty.com/escalation_policies#P1SMG60>Production Database Assistance</a>. They are staffed by SREs and DBREs, respectively, and Reliability Engineering Managers.</p> <p>Currently, rotations are weekly and the day's schedule is split 12/12 hours with engineers on call as close to daytime hours as their geographical region allows. We hope to hire so that shifts are an 8/8/8 hours split, but we're not staffed sufficiently yet across timezones.</p> <h3 id=joining-the-on-call-rotation>Joining the On-Call Rotation<a class=headerlink href=#joining-the-on-call-rotation title="Permanent link">#</a></h3> <p>When a new engineer joins the team and is ready to start shadowing for an on-call rotation, <a href=https://support.pagerduty.com/docs/editing-schedules#section-create-and-delete-overrides>overrides</a> should be enabled for the relevant on-call hours during that rotation. Once they have completed shadowing and are comfortable/ready to be inserted into the primary rotations, update the membership list for the appropriate schedule to <a href=https://support.pagerduty.com/docs/editing-schedules#section-adding-users>add the new team member</a>.</p> <p>This <a href=https://community.pagerduty.com/t/creating-a-shadow-schedule-to-onboard-new-employees/214>pagerduty forum post</a> was referenced when setting up the <a href=https://community.pagerduty.com/t/creating-a-blank-schedule/212>blank shadow schedule</a> and initial <a href=https://support.pagerduty.com/docs/editing-schedules#section-create-and-delete-overrides>overrides</a> for on-boarding new team member</p> <h2 id=checklists>Checklists<a class=headerlink href=#checklists title="Permanent link">#</a></h2> <ul> <li><a href=on-call/checklists/eoc.md>Engineer on Call (EOC)</a></li> <li><a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#incident-manager-on-call-imoc-responsibilities>Incident Manager on Call (IMOC)</a></li> <li><a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#communications-manager-on-call-cmoc-responsibilities>Communications Manager on Call (CMOC)</a></li> </ul> <p>To start with the right foot let's define a set of tasks that are nice things to do before you go any further in your week</p> <p>By performing these tasks we will keep the <a href=https://en.wikipedia.org/wiki/Broken_windows_theory>broken window effect</a> under control, preventing future pain and mess.</p> <h2 id=things-to-keep-an-eye-on>Things to keep an eye on<a class=headerlink href=#things-to-keep-an-eye-on title="Permanent link">#</a></h2> <h3 id=issues>Issues<a class=headerlink href=#issues title="Permanent link">#</a></h3> <p>First check <a href="https://gitlab.com/gitlab-com/infrastructure/issues?scope=all&utf8=%E2%9C%93&state=all&label_name[]=oncall">the on-call issues</a> to familiarize yourself with what has been happening lately. Also, keep an eye on the <a href=https://gitlab.slack.com/channels/production>#production</a> and <a href=https://gitlab.slack.com/channels/incident-management>#incident-management</a> channels for discussion around any on-going issues.</p> <h3 id=alerts>Alerts<a class=headerlink href=#alerts title="Permanent link">#</a></h3> <p>Start by checking how many alerts are in flight right now</p> <ul> <li>go to the <a href=https://dashboards.gitlab.net/d/RZmbBr7mk/gitlab-triage>fleet overview dashboard</a> and check the number of Active Alerts, it should be 0. If it is not 0<ul> <li>go to the alerts dashboard and check what is being triggered<ul> <li><a href=https://prometheus.gitlab.com/alerts>azure</a></li> <li><a href=https://prometheus.gprd.gitlab.net/alerts>gprd prometheus</a></li> <li><a href=https://prometheus-app.gprd.gitlab.net/alerts>gprd prometheus-app</a></li> </ul> </li> <li>watch the <a href=https://gitlab.slack.com/channels/alerts>#alerts</a> and <a href=https://gitlab.slack.com/channels/alerts-general>#feed_alerts-general</a> channels for alert notifications; each alert here should point you to the right <a href=https://gitlab.com/gitlab-com/runbooks>runbook</a> to fix it.</li> <li>if they don't, you have more work to do.</li> <li>be sure to create an issue, particularly to declare toil so we can work on it and suppress it.</li> </ul> </li> </ul> <h3 id=prometheus-targets-down>Prometheus targets down<a class=headerlink href=#prometheus-targets-down title="Permanent link">#</a></h3> <p>Check how many targets are not scraped at the moment. alerts are in flight right now, to do this:</p> <ul> <li>go to the <a href=https://dashboards.gitlab.net/d/RZmbBr7mk/gitlab-triage>fleet overview dashboard</a> and check the number of Targets down. It should be 0. If it is not 0<ul> <li>go to the [targets down list] and check what is.<ul> <li><a href=https://prometheus.gitlab.com/consoles/up.html>azure</a></li> <li><a href=https://prometheus.gprd.gitlab.net/consoles/up.html>gprd prometheus</a></li> <li><a href=https://prometheus-app.gprd.gitlab.net/consoles/up.html>gprd prometheus-app</a></li> </ul> </li> <li>try to figure out why there is scraping problems and try to fix it. Note that sometimes there can be temporary scraping problems because of exporter errors.</li> <li>be sure to create an issue, particularly to declare toil so we can work on it and suppress it.</li> </ul> </li> </ul> <h2 id=incidents>Incidents<a class=headerlink href=#incidents title="Permanent link">#</a></h2> <p>First: don't panic.</p> <p>If you are feeling overwhelmed, escalate to the <a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#incident-manager-on-call-imoc-responsibilities>IMOC</a>. Whoever is in that role can help you get other people to help with whatever is needed. Our goal is to resolve the incident in a timely manner, but sometimes that means slowing down and making sure we get the right people involved. Accuracy is as important or more than speed.</p> <p>Roles for an incident can be found in the <a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/ >incident management section of the handbook</a></p> <p>If you need to declare an incident, <a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#reporting-an-incident>follow these instructions located in the handbook</a>.</p> <h2 id=communication-tools>Communication Tools<a class=headerlink href=#communication-tools title="Permanent link">#</a></h2> <p>If you do end up needing to post and update about an incident, we use <a href=https://status.io>Status.io</a></p> <p>On status.io, you can <a href=https://app.status.io/dashboard/5b36dc6502d06804c08349f7/incident/create>Make an incident</a> and Tweet, post to Slack, IRC, Webhooks, and email via checkboxes on creating or updating the incident.</p> <p>The incident will also have an affected infrastructure section where you can pick components of the GitLab.com application and the underlying services/containers should we have an incident due to a provider.</p> <p>You can update incidents with the Update Status button on an existing incident, again you can tweet, etc from that update point.</p> <p>Remember to close out the incident when the issue is resolved. Also, when possible, put the issue and/or google doc in the post mortem link.</p> <h1 id=production-incidents>Production Incidents<a class=headerlink href=#production-incidents title="Permanent link">#</a></h1> <h2 id=reporting-and-incident><a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#reporting-an-incident>Reporting and incident</a><a class=headerlink href=#reporting-and-incident title="Permanent link">#</a></h2> <h2 id=roles>Roles<a class=headerlink href=#roles title="Permanent link">#</a></h2> <p>During an incident, we have <a href=https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#roles-and-responsibilities>roles defined in the handbook</a></p> <h2 id=general-guidelines-for-production-incidents>General guidelines for production incidents.<a class=headerlink href=#general-guidelines-for-production-incidents title="Permanent link">#</a></h2> <ul> <li>Is this an emergency incident?<ul> <li>Are we losing data?</li> <li>Is GitLab.com not working or offline?</li> <li>Has the incident affected users for greater than 1 hour?</li> </ul> </li> <li>Join the <code>#incident management</code> channel</li> <li>If the <em>point person</em> needs someone to do something, give a direct command: <em><a class="magiclink magiclink-github magiclink-mention" href=https://github.com/someone title="GitHub User: someone">@someone</a>: please run <code>this</code> command</em></li> <li>Be sure to be in sync - if you are going to reboot a service, say so: <em>I'm bouncing server X</em></li> <li>If you have conflicting information, <strong>stop and think</strong>, bounce ideas, escalate</li> <li>Gather information when the incident is done - logs, samples of graphs, whatever could help figuring out what happened</li> <li>use <code>/security</code> if you have any security concerns and need to pull in the Security Incident Response team</li> </ul> <h3 id=postgresql>PostgreSQL<a class=headerlink href=#postgresql title="Permanent link">#</a></h3> <ul> <li><a href=docs/patroni/postgres.md>PostgreSQL</a></li> <li><a href=docs/patroni/postgresql.md>more postgresql</a></li> <li><a href=docs/pgbouncer/pgbouncer-1.md>PgBouncer</a></li> <li><a href=docs/patroni/pg-ha.md>PostgreSQL High Availability &amp; Failovers</a></li> <li><a href=howto/postgresql-switchover.md>PostgreSQL switchover</a></li> <li><a href=docs/uncategorized/load-balancing.md>Read-only Load Balancing</a></li> <li><a href=docs/patroni/postgresql-replica.md>Add a new secondary replica</a></li> <li><a href=docs/patroni/postgresql-backups-wale-walg.md>Database backups</a></li> <li><a href=docs/patroni/postgresql-backups-wale-walg.md#database-backups-restore-testing>Database backups restore testing</a></li> <li><a href=docs/patroni/postgresql.md#rebuild-a-corrupt-index>Rebuild a corrupt index</a></li> <li><a href=docs/patroni/postgres-checkup.md>Checking PostgreSQL health with postgres-checkup</a></li> <li><a href=docs/patroni/pg_repack.md>Reducing table and index bloat using pg_repack</a></li> </ul> <h3 id=frontend-services>Frontend Services<a class=headerlink href=#frontend-services title="Permanent link">#</a></h3> <ul> <li><a href=docs/pages/gitlab-pages.md>GitLab Pages returns 404</a></li> <li><a href=docs/config_management/chef-troubleshooting.md>HAProxy is missing workers</a></li> <li><a href=docs/monitoring/filesystem_alerts.md>Worker's root filesystem is running out of space</a></li> <li><a href=docs/frontend/load-balancer-outage.md>Azure Load Balancers Misbehave</a></li> <li><a href=docs/registry/gitlab-registry.md>GitLab registry is down</a></li> <li><a href=docs/sidekiq/sidekiq_stats_no_longer_showing.md>Sidekiq stats no longer showing</a></li> <li><a href=docs/uncategorized/gemnasium_is_down.md>Gemnasium is down</a></li> <li><a href=docs/uncategorized/block-high-load-project.md>Blocking a project causing high load</a></li> </ul> <h3 id=supporting-services>Supporting Services<a class=headerlink href=#supporting-services title="Permanent link">#</a></h3> <ul> <li><a href=docs/redis/redis.md>Redis</a></li> <li><a href=docs/monitoring/sentry-is-down.md>Sentry is down</a></li> </ul> <h3 id=gitaly>Gitaly<a class=headerlink href=#gitaly title="Permanent link">#</a></h3> <ul> <li><a href=docs/gitaly/gitaly-error-rate.md>Gitaly error rate is too high</a></li> <li><a href=docs/gitaly/gitaly-latency.md>Gitaly latency is too high</a></li> <li><a href=docs/sidekiq/large-sidekiq-queue.md>Sidekiq Queues are out of control</a></li> <li><a href=docs/uncategorized/workers-high-load.md>Workers have huge load because of cat-files</a></li> <li><a href=docs/git/git.md>Test pushing through all the git nodes</a></li> <li><a href=docs/gitaly/gracefully-restart-gitaly-ruby.md>How to gracefully restart gitaly-ruby</a></li> <li><a href=docs/gitaly/gitaly-debugging-tool.md>Debugging gitaly with gitaly-debug</a></li> <li><a href=docs/gitaly/gitaly-token-rotation.md>Gitaly token rotation</a></li> <li><a href=docs/praefect/praefect-startup.md>Praefect is down</a></li> <li><a href=docs/praefect/praefect-error-rate.md>Praefect error rate is too high</a></li> </ul> <h3 id=ci>CI<a class=headerlink href=#ci title="Permanent link">#</a></h3> <ul> <li><a href=troubleshooting/ci_pending_builds.md>Large number of CI pending builds</a></li> <li><a href=troubleshooting/ci_runner_manager_errors.md>The CI runner manager report a high number of errors</a></li> </ul> <h3 id=geo>Geo<a class=headerlink href=#geo title="Permanent link">#</a></h3> <ul> <li><a href=docs/patroni/geo-patroni-cluster.md>Geo database replication</a></li> </ul> <h3 id=elk>ELK<a class=headerlink href=#elk title="Permanent link">#</a></h3> <ul> <li><a href=troubleshooting/elk_mapper_parsing_exception.md><code>mapper_parsing_exception</code> errors</a></li> </ul> <h2 id=non-critical>Non-Critical<a class=headerlink href=#non-critical title="Permanent link">#</a></h2> <ul> <li><a href=docs/frontend/ssl_cert.md>SSL certificate expires</a></li> <li><a href=docs/git/git-stuck-processes.md>Troubleshoot git stuck processes</a></li> </ul> <h2 id=non-core-applications>Non-Core Applications<a class=headerlink href=#non-core-applications title="Permanent link">#</a></h2> <ul> <li><a href=docs/version/version-gitlab-com.md>version.gitlab.com</a></li> </ul> <h3 id=chefknife>Chef/Knife<a class=headerlink href=#chefknife title="Permanent link">#</a></h3> <ul> <li><a href=docs/config_management/chef-troubleshooting.md>General Troubleshooting</a></li> <li><a href=docs/uncategorized/stale-file-handles.md>Error executing action <code>create</code> on resource 'directory[/some/path]'</a></li> </ul> <h3 id=certificates>Certificates<a class=headerlink href=#certificates title="Permanent link">#</a></h3> <ul> <li><a href=certificates/README.md>Certificate runbooks</a></li> </ul> <h2 id=learning>Learning<a class=headerlink href=#learning title="Permanent link">#</a></h2> <h3 id=alerting-and-monitoring>Alerting and monitoring<a class=headerlink href=#alerting-and-monitoring title="Permanent link">#</a></h3> <ul> <li><a href=docs/monitoring/monitoring-overview.md>GitLab monitoring overview</a></li> <li><a href=docs/monitoring/alerts_manual.md>How to add alerts: Alerts manual</a></li> <li><a href=docs/uncategorized/deadman-switches.md>How to add/update deadman switches</a></li> <li><a href=howto/silence-alerts.md>How to silence alerts</a></li> <li><a href=docs/uncategorized/alert-for-ssl-certificate-expiration.md>Alert for SSL certificate expiration</a></li> <li><a href=monitoring/grafana.md>Working with Grafana</a></li> <li><a href=monitoring/prometheus.md>Working with Prometheus</a></li> <li><a href=docs/monitoring/upgrades.md>Upgrade Prometheus and exporters</a></li> <li><a href=docs/uncategorized/mtail.md>Use mtail to capture metrics from logs</a></li> </ul> <h3 id=ci_1>CI<a class=headerlink href=#ci_1 title="Permanent link">#</a></h3> <ul> <li><a href=troubleshooting/ci_introduction.md>Introduction to Shared Runners</a></li> <li><a href=troubleshooting/ci_graphs.md>Understand CI graphs</a></li> </ul> <h3 id=access-requests>Access Requests<a class=headerlink href=#access-requests title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/access-requests.md>Deal with various kinds of access requests</a></li> </ul> <h3 id=deploy>Deploy<a class=headerlink href=#deploy title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/dev-environment.md#figure-out-the-diff-of-deployed-versions>Get the diff between dev versions</a></li> <li><a href=https://ops.gitlab.net/gitlab-cookbooks/chef-repo/blob/master/doc/deploying.md>Deploy GitLab.com</a></li> <li><a href=https://gitlab.com/gitlab-org/release/docs/-/blob/master/runbooks/rollback-a-deployment.md>Rollback GitLab.com</a></li> <li><a href=https://ops.gitlab.net/gitlab-cookbooks/chef-repo/blob/master/doc/staging.md>Deploy staging.GitLab.com</a></li> <li><a href=https://ops.gitlab.net/gitlab-cookbooks/chef-repo/blob/master/doc/staging.md>Refresh data on staging.gitlab.com</a></li> <li><a href=https://gitlab.com/gitlab-org/release/docs/-/blob/master/runbooks/background-migrations.md>Background Migrations</a></li> </ul> <h3 id=work-with-the-fleet-and-the-rails-app>Work with the fleet and the rails app<a class=headerlink href=#work-with-the-fleet-and-the-rails-app title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/manage-workers.md#reload-unicorn-with-zero-downtime>Reload unicorn with zero downtime</a></li> <li><a href=docs/uncategorized/manage-workers.md#how-to-perform-zero-downtime-frontend-host-reboot>How to perform zero downtime frontend host reboot</a></li> <li><a href=docs/uncategorized/manage-workers.md#gracefully-restart-sidekiq-jobs>Gracefully restart sidekiq jobs</a></li> <li><a href=docs/uncategorized/staging-environment.md#run-a-rails-console-in-staging-environment>Start a rails console in the staging environment</a></li> <li><a href=docs/uncategorized/staging-environment.md#run-a-redis-console-in-staging-environment>Start a redis console in the staging environment</a></li> <li><a href=docs/uncategorized/staging-environment.md#run-a-psql-console-in-staging-environment>Start a psql console in the staging environment</a></li> <li><a href=docs/patroni/patroni-management.md#failoverswitchover>Force a failover with postgres</a></li> <li><a href=docs/uncategorized/manage-pacemaker.md#force-a-failover>Force a failover with redis</a></li> <li><a href=docs/uncategorized/aptly.md>Use aptly</a></li> <li><a href=docs/uncategorized/stop-or-start-packagecloud.md>Disable PackageCloud</a></li> <li><a href=docs/uncategorized/reindex-package-in-packagecloud.md>Re-index a package in PackageCloud</a></li> <li><a href=docs/uncategorized/access-gcp-hosts.md>Access hosts in GCP</a></li> </ul> <h3 id=restore-backups>Restore Backups<a class=headerlink href=#restore-backups title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/deleted-project-restore.md>Deleted Project Restoration</a></li> <li><a href=docs/patroni/postgresql-backups-wale-walg.md>PostgreSQL Backups: WAL-E, WAL-G</a></li> <li><a href=docs/uncategorized/azure-snapshots.md>Work with Azure Snapshots</a></li> <li><a href=docs/uncategorized/gcp-snapshots.md>Work with GCP Snapshots</a></li> <li><a href=docs/uncategorized/packagecloud-infrastructure.md>PackageCloud Infrastructure And Recovery</a></li> </ul> <h3 id=work-with-storage>Work with storage<a class=headerlink href=#work-with-storage title="Permanent link">#</a></h3> <ul> <li><a href=docs/gitaly/storage-sharding.md>Understanding GitLab Storage Shards</a></li> <li><a href=docs/gitaly/storage-rebalancing.md>How to re-balance GitLab Storage Shards</a></li> <li><a href=docs/gitaly/storage-servers.md>Build and Deploy New Storage Servers</a></li> <li><a href=docs/uncategorized/uploads.md>Manage uploads</a></li> </ul> <h3 id=mangle-front-end-load-balancers>Mangle front end load balancers<a class=headerlink href=#mangle-front-end-load-balancers title="Permanent link">#</a></h3> <ul> <li><a href=docs/frontend/block-things-in-haproxy.md#disable-a-whole-service-in-a-load-balancer>Isolate a worker by disabling the service in the LBs</a></li> <li><a href=docs/frontend/block-things-in-haproxy.md#deny-a-path-with-the-delete-http-method>Deny a path in the load balancers</a></li> <li><a href=docs/frontend/ssl_cert-1.md>Purchasing/Renewing SSL Certificates</a></li> </ul> <h3 id=work-with-chef>Work with Chef<a class=headerlink href=#work-with-chef title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/manage-chef.md>Create users, rotate or remove keys from chef</a></li> <li><a href=docs/uncategorized/manage-workers.md#update-packages-fleet-wide>Update packages manually for a given role</a></li> <li><a href=docs/uncategorized/rename-nodes.md>Rename a node already in Chef</a></li> <li><a href=docs/uncategorized/reprovisioning-nodes.md>Reprovisioning nodes</a></li> <li><a href=docs/uncategorized/chefspec.md#tests-are-taking-too-long-to-run>Speed up chefspec tests</a></li> <li><a href=docs/uncategorized/chef-documentation.md>Manage Chef Cookbooks</a></li> <li><a href=docs/uncategorized/chef-guidelines.md>Chef Guidelines</a></li> <li><a href=docs/uncategorized/chef-vault.md>Chef Vault</a></li> <li><a href=howto/debug-failed-chef-provisioning.md>Debug failed provisioning</a></li> </ul> <h3 id=work-with-ci-infrastructure>Work with CI Infrastructure<a class=headerlink href=#work-with-ci-infrastructure title="Permanent link">#</a></h3> <ul> <li><a href=docs/ci-runners/fleet-configuration-management/README.md>Runners fleet configuration management</a></li> <li><a href=docs/ci-runners/ci-investigate-abuse.md>Investigate Abuse Reports</a></li> <li><a href=docs/ci-runners/create-runners-manager-node.md>Create runners manager for GitLab.com</a></li> <li><a href=docs/uncategorized/upgrade-docker-machine.md>Update docker-machine</a></li> <li><a href=docs/ci-runners/ci-project-namespace-check.md>CI project namespace check</a></li> </ul> <h3 id=work-with-infrastructure-providers-vms>Work with Infrastructure Providers (VMs)<a class=headerlink href=#work-with-infrastructure-providers-vms title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/externalvendors/GCP-rackspace-support.md>Getting Support from GCP</a></li> <li><a href=docs/uncategorized/create-do-vm-for-service-engineer.md>Create a DO VM for a Service Engineer</a></li> <li><a href=https://ops.gitlab.net/gitlab-cookbooks/chef-repo/blob/master/doc/azure.md#managing-vms-in-azure>Create VMs in Azure, add disks, etc</a></li> <li><a href=https://ops.gitlab.net/gitlab-cookbooks/chef-repo/blob/master/doc/new-vps.md>Bootstrap a new VM</a></li> <li><a href=docs/uncategorized/remove-node.md>Remove existing node checklist</a></li> </ul> <h3 id=manually-ban-an-ip-or-netblock>Manually ban an IP or netblock<a class=headerlink href=#manually-ban-an-ip-or-netblock title="Permanent link">#</a></h3> <ul> <li><a href=docs/redis/ban-an-IP-with-redis.md>Ban a single IP using Redis and Rack Attack</a></li> <li><a href=docs/frontend/ban-netblocks-on-haproxy.md>Ban a netblock on HAProxy</a></li> </ul> <h3 id=dealing-with-spam>Dealing with Spam<a class=headerlink href=#dealing-with-spam title="Permanent link">#</a></h3> <ul> <li><a href=https://docs.google.com/document/d/1V0X2aYiNTZE1npzeqDvq-dhNFZsEPsL__FqKOMXOjE8>General procedures for fighting spam in snippets, issues, projects, and comments</a></li> </ul> <h3 id=manage-marvin-our-infra-bot>Manage Marvin, our infra bot<a class=headerlink href=#manage-marvin-our-infra-bot title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/manage-cog.md>Manage cog</a></li> </ul> <h3 id=elasticstack-previously-elasticsearch>ElasticStack (previously Elasticsearch)<a class=headerlink href=#elasticstack-previously-elasticsearch title="Permanent link">#</a></h3> <p>Selected elastic documents and resources:</p> <ul> <li>elastic/<ul> <li>doc/<ul> <li><a href=elastic/doc/elastic-cloud.md>elastic-cloud.md</a> (hosted ES provider docs)</li> <li><a href=elastic/doc/exercises>exercises</a> (e.g. cluster performance tuning)</li> <li><a href=elastic/doc/kibana.md>kibana.md</a></li> <li><a href=elastic/doc/README.md>README.md</a> (ES overview)</li> <li>troubleshooting/<ul> <li><a href=elastic/doc/troubleshooting/README.md>README.md</a> (troubleshooting overview)</li> </ul> </li> </ul> </li> <li><a href=elastic/scripts>scripts/</a> (api calls used for admin tasks documented as bash scripts)</li> <li>watchers/</li> </ul> </li> </ul> <h3 id=elasticstack-integration-in-gitlab-indexing-gitlab-data>ElasticStack integration in Gitlab (indexing Gitlab data)<a class=headerlink href=#elasticstack-integration-in-gitlab-indexing-gitlab-data title="Permanent link">#</a></h3> <p><a href=elastic-integration/doc/elasticsearch-integration-in-gitlab.md>elasticsearch-integration-in-gitlab.md</a></p> <h3 id=logging>Logging<a class=headerlink href=#logging title="Permanent link">#</a></h3> <p>Selected logging documents and resources:</p> <ul> <li>logging/<ul> <li>doc/<ul> <li><a href=logging/doc/exercises>exercises</a> (e.g. searching logs in Kibana)</li> <li><a href=logging/doc/README.md>README.md</a> (logging overview)<ul> <li><a href=logging/doc/README.md#quick-start>quick-start</a></li> <li><a href=logging/doc/README.md#what-are-we-logging>what-are-we-logging</a></li> <li><a href=logging/doc/README.md#searching-logs>searching-logs</a></li> <li><a href=logging/doc/README.md#logging-infrastructure-overview>logging-infrastructure-overview</a></li> </ul> </li> <li>troubleshooting/<ul> <li><a href=logging/doc/troubleshooting/README.md>README.md</a></li> </ul> </li> </ul> </li> </ul> </li> </ul> <h3 id=internal-dns>Internal DNS<a class=headerlink href=#internal-dns title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/internal_dns.md>Managing internal DNS</a></li> </ul> <h3 id=debug-and-monitor>Debug and monitor<a class=headerlink href=#debug-and-monitor title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/tracing-app-db-queries.md>Tracing the source of an expensive query</a></li> <li><a href=logging/doc/README.md#searching-logs>Work with Kibana (logs view)</a></li> </ul> <h3 id=secrets>Secrets<a class=headerlink href=#secrets title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/working-with-gcloud-secrets.md>Working with Google Cloud secrets</a></li> </ul> <h3 id=security>Security<a class=headerlink href=#security title="Permanent link">#</a></h3> <ul> <li><a href=howto/externalvendors/cloudflare.md>Working with the CloudFlare WAF/CDN</a></li> <li><a href=docs/uncategorized/uptycs_osquery.md>Uptycs osquery</a></li> <li><a href=docs/uncategorized/uptycs_osqueryd.md>Uptycs osquery troubleshooting</a></li> </ul> <h3 id=other>Other<a class=headerlink href=#other title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/setup-oauth2-proxy-protected-application.md>Setup oauth2-proxy protection for web based application</a></li> <li><a href=docs/uncategorized/domain-registration.md>Register new domain(s)</a></li> <li><a href=docs/uncategorized/manage-dns-entries.md>Manage DNS entries</a></li> <li><a href=docs/uncategorized/yubikey.md>Setup and Use my Yubikey</a></li> <li><a href=docs/git/purge-git-data.md>Purge Git data</a></li> <li><a href=docs/uncategorized/k8s-gitlab.md>Getting Started with Kubernetes and GitLab.com</a></li> <li><a href=docs/uncategorized/deploycmd.md>Using Chatops bot to run commands across the fleet</a></li> </ul> <h3 id=gitter>Gitter<a class=headerlink href=#gitter title="Permanent link">#</a></h3> <ul> <li><a href=docs/git/gitter/mongodb-operations.md>MongoDB operations</a></li> <li><a href=docs/git/gitter/renew-certificates.md>Renew the Gitter TLS certificate</a></li> </ul> <h3 id=manage-package-signing-keys>Manage Package Signing Keys<a class=headerlink href=#manage-package-signing-keys title="Permanent link">#</a></h3> <ul> <li><a href=docs/uncategorized/manage-package-signing-keys.md>Manage Package Signing Keys</a></li> </ul> <h3 id=other-servers-and-services>Other Servers and Services<a class=headerlink href=#other-servers-and-services title="Permanent link">#</a></h3> <ul> <li><a href=docs/git/githost.md>GitHost / GitLab Hosted</a></li> </ul> <h3 id=adding-runbooks-rules>Adding runbooks rules<a class=headerlink href=#adding-runbooks-rules title="Permanent link">#</a></h3> <ul> <li>Make it quick - add links for checks</li> <li>Don't make me think - write clear guidelines, write expectations</li> <li>Recommended structure</li> <li>Symptoms - how can I quickly tell that this is what is going on</li> <li>Pre-checks - how can I be 100% sure</li> <li>Resolution - what do I have to do to fix it</li> <li>Post-checks - how can I be 100% sure that it is solved</li> <li>Rollback - optional, how can I undo my fix</li> </ul> <h1 id=developing-in-this-repo>Developing in this repo<a class=headerlink href=#developing-in-this-repo title="Permanent link">#</a></h1> <h2 id=generating-a-new-runbooks-image>Generating a new runbooks image<a class=headerlink href=#generating-a-new-runbooks-image title="Permanent link">#</a></h2> <p>To generate a new image you must follow the git commit guidelines below, this will trigger a semantic version bump which will then cause a new pipeline that will build and tag the new image</p> <h3 id=git-commit-guidelines>Git Commit Guidelines<a class=headerlink href=#git-commit-guidelines title="Permanent link">#</a></h3> <p>This project uses <a href=https://semver.org>Semantic Versioning</a>. We use commit messages to automatically determine the version bumps, so they should adhere to the conventions of <a href=https://www.conventionalcommits.org/en/v1.0.0-beta.2/ >Conventional Commits (v1.0.0-beta.2)</a>.</p> <h4 id=tldr>TL;DR<a class=headerlink href=#tldr title="Permanent link">#</a></h4> <ul> <li>Commit messages starting with <code>fix:</code> trigger a patch version bump</li> <li>Commit messages starting with <code>feat:</code> trigger a minor version bump</li> <li>Commit messages starting with <code>BREAKING CHANGE:</code> trigger a major version bump.</li> <li>If you don't want to publish a new image, do not use the above starting strings.</li> </ul> <h3 id=automatic-versioning>Automatic versioning<a class=headerlink href=#automatic-versioning title="Permanent link">#</a></h3> <p>Each push to <code>master</code> triggers a <a href=https://semantic-release.gitbook.io/semantic-release/ ><code>semantic-release</code></a> CI job that determines and pushes a new version tag (if any) based on the last version tagged and the new commits pushed. Notice that this means that if a Merge Request contains, for example, several <code>feat:</code> commits, only one minor version bump will occur on merge. If your Merge Request includes several commits you may prefer to ignore the prefix on each individual commit and instead add an empty commit summarizing your changes like so:</p> <div class=highlight><pre><span></span><code>git commit --allow-empty -m &#39;[BREAKING CHANGE|feat|fix]: &lt;changelog summary message&gt;&#39;
</code></pre></div> <h2 id=tool-versioning>Tool Versioning<a class=headerlink href=#tool-versioning title="Permanent link">#</a></h2> <p>This project has adopted <a href=https://github.com/asdf-vm/asdf><code>adsf version-manager</code></a> for tool versioning.</p> <p>Installation instructions for <code>asdf</code> can be found at <a href="https://asdf-vm.com/#/core-manage-asdf-vm?id=install">https://asdf-vm.com/#/core-manage-asdf-vm?id=install</a>.</p> <p>For compatibility, please configure the following line in <code>~/.asdfrc</code></p> <div class=highlight><pre><span></span><code>legacy_version_file = yes
</code></pre></div> <h3 id=dependencies-and-required-tooling>Dependencies and required tooling<a class=headerlink href=#dependencies-and-required-tooling title="Permanent link">#</a></h3> <p>Following tools and libraries are required to develop dashboards locally:</p> <ul> <li>Go programming langugage</li> <li>Ruby programming language</li> <li><code>go-jsonnet</code> - Jsonnet implementation written in Go</li> <li><code>jsonnet-bunder</code> - package manager for Jsonnet</li> <li><code>jq</code> - command line JSON processor</li> </ul> <p>You can install most of them using <code>asdf</code> tool.</p> <h3 id=manage-your-dependencies-using-asdf>Manage your dependencies using <code>asdf</code><a class=headerlink href=#manage-your-dependencies-using-asdf title="Permanent link">#</a></h3> <p>Our <code>asdf</code> toolset uses the following plugins:</p> <ul> <li><code>golang</code>: <code>asdf plugin add golang</code></li> <li><code>ruby</code>: <code>asdf plugin add ruby</code></li> <li><code>go-jsonnet</code>: <code>asdf plugin add go-jsonnet</code>.</li> <li><code>jsonnet-bundler</code>: <code>asdf plugin add jb</code>.</li> </ul> <p>Once you have installed these plugins, run the following command to install the required versions.</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>asdf<span class=w> </span>install
<span class=go>go-jsonnet 0.16.0 is already installed</span>
<span class=go>golang 1.14 is already installed</span>
<span class=go>ruby 2.6.5 is already installed</span>
<span class=gp>$ </span><span class=c1># Confirm everything is working with....</span>
<span class=gp>$ </span>asdf<span class=w> </span>current
<span class=go>go-jsonnet     0.16.0   (set by ~/runbooks/.tool-versions)</span>
<span class=go>golang         1.14     (set by ~/runbooks/.tool-versions)</span>
<span class=go>ruby           2.6.5    (set by ~/runbooks/.ruby-version)</span>
</code></pre></div> <p>You don't need to use <code>asdf</code>, but in such case you will need install all dependencies manually and track their versions.</p> <h3 id=go-jsonnet>Go, Jsonnet<a class=headerlink href=#go-jsonnet title="Permanent link">#</a></h3> <p>We use <code>.tool-versions</code> to record the version of go-jsonnet that should be used for local development. The <code>asdf</code> version manager is used by some team members to automatically switch versions based on the contents of this file. It should be kept up to date. The top-level <code>Dockerfile</code> contains the version of go-jsonnet we use in CI. This should be kept in sync with <code>.tool-versions</code>, and a (non-gating) CI job enforces this.</p> <p>To install <a href=https://github.com/google/go-jsonnet>go-jsonnet</a>, you have a few options.</p> <p>You could follow that project's README to install manually;</p> <p>Or via homebrew:</p> <p><div class=highlight><pre><span></span><code>brew install go-jsonnet
</code></pre></div> Or if you're using <code>asdf</code>, you can use <a href=https://gitlab.com/craigfurman/asdf-go-jsonnet>an asdf plugin</a>.</p> <h3 id=ruby>Ruby<a class=headerlink href=#ruby title="Permanent link">#</a></h3> <p>Additional to <code>adsf</code>, many developers use <code>rbenv</code>, <code>rvm</code> or other tooling, so, for convenience, we maintain the standard <code>.ruby-version</code> file for the Ruby version. ASDF needs to be configured using the <code>legacy_version_file = yes</code> setting described in the <a href=#tool-versioning>parent section</a>.</p> <h2 id=contributing>Contributing<a class=headerlink href=#contributing title="Permanent link">#</a></h2> <p>Please see the <a href=CONTRIBUTING.md>contribution guidelines</a></p> <h1 id=but-always-remember>But always remember!<a class=headerlink href=#but-always-remember title="Permanent link">#</a></h1> <p><img alt="Dont Panic" src=img/dont_panic_towel.jpg></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2021 ivanka </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/ivankatliarchuk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://github.com/ivankatliarchuk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://hub.docker.com/r/cloudkats target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://www.hackerrank.com/tanzwud target=_blank rel=noopener title=www.hackerrank.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M477.5 128C463 103.05 285.13 0 256.16 0S49.25 102.79 34.84 128s-14.49 230.8 0 256 192.38 128 221.32 128S463 409.08 477.49 384s14.51-231 .01-256zM316.13 414.22c-4 0-40.91-35.77-38-38.69.87-.87 6.26-1.48 17.55-1.83 0-26.23.59-68.59.94-86.32 0-2-.44-3.43-.44-5.85h-79.93c0 7.1-.46 36.2 1.37 72.88.23 4.54-1.58 6-5.74 5.94-10.13 0-20.27-.11-30.41-.08-4.1 0-5.87-1.53-5.74-6.11.92-33.44 3-84-.15-212.67v-3.17c-9.67-.35-16.38-1-17.26-1.84-2.92-2.92 34.54-38.69 38.49-38.69s41.17 35.78 38.27 38.69c-.87.87-7.9 1.49-16.77 1.84v3.16c-2.42 25.75-2 79.59-2.63 105.39h80.26c0-4.55.39-34.74-1.2-83.64-.1-3.39.95-5.17 4.21-5.2 11.07-.08 22.15-.13 33.23-.06 3.46 0 4.57 1.72 4.5 5.38C333 354.64 336 341.29 336 373.69c8.87.35 16.82 1 17.69 1.84 2.88 2.91-33.62 38.69-37.58 38.69z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "search.suggest", "search.highlight", "search.share", "tabs", "tags", "toc.integrate", "toc.follow", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.2a6f1dda.min.js></script> </body> </html>